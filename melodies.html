<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>subbasses | melodies</title>
  <link rel="stylesheet" href="styles/original.css">
  <link rel="icon" type="image/x-icon" href="images/speaker-high-volume_padded_4000x4000-removebg-preview.png">

  <!-- font for play/pause button -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <header>
    <img src="images/cooltext494848403796185.png" alt="SUBBASSES Logo" class="header-logo">
    <nav>
      <a href="index.html">Beats</a> | 
      <a href="melodies.html">Melodies</a>
    </nav>
  </header>

  <!--Swag Section -->
  <section id="swag">
    <p>immerse yourself into the subbass</p>
    <img src="images/speaker-high-volume_padded_4000x4000-removebg-preview.png" alt="subbasses" width="400">
  </section>

  <!-- Music Section with WaveSurfer Playlist -->
  <section id="music">
    <p>Browse through some melodies</p>

    <!-- Track Name -->
    <p id="trackName">No track loaded</p>

    <!-- Waveform container -->
    <div id="waveform"></div>

    
    <div class="controls">
      <!-- Previous Track -->
      <button id="prevBtn" class="wave-btn">
        <i class="fa fa-backward"></i>
      </button>

      <!-- Play/Pause button -->
      <button id="playBtn" class="wave-btn">
        <i class="fa fa-play"></i>
      </button>

      <!-- Next Track -->
      <button id="nextBtn" class="wave-btn">
        <i class="fa fa-forward"></i>
      </button>

      <!-- Download button -->
      <a id="downloadBtn" class="wave-btn" href="#" download>
        <i class="fa fa-download"></i>
      
      </a>
      <p class="legal-disclaimer">
        ⚠️ By downloading, you agree to our <a href="contract.html#licensing">Licensing</a>.
        Non‑commercial use under <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY‑NC 4.0</a>;
        commercial use requires a <a href="contract/Artist Producer Agr (Advance + royalty + pub).pdf" target="_blank">license</a>.
      </p>
    </div>
  </section>

  <!-- Donate Section -->
  <section id="donate">
    <h2>Support My Work</h2>
    <p>If you enjoy my work, consider making a donation:</p>

    <!-- PayPal -->

    <div class="center-donate-btn">
      <form action="https://www.paypal.biz/okmaso" method="post" target="_blank">
        <input type="hidden" name="hosted_button_id" value="YOUR_PAYPAL_BUTTON_ID">
        <button type="submit" class="wave-btn cash-btn paypal-btn">
          <i class="fa-brands fa-paypal"></i>
        </button>
      </form>
      <a href="https://cash.app/$duhmaso" target="_blank" class="wave-btn cash-btn">
        <i class="fa-brands fa-cc-visa"></i>
      </a>
    </div>
    
  </section>

  <footer>
    <p>All music is original content released under the 
      <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">Creative Commons Attribution‑NonCommercial 4.0 License (CC BY‑NC 4.0)</a>.
      Commercial use requires a <a href="contract/Artist Producer Agr (Advance + royalty + pub).pdf" target="_blank">license</a>.
    </p>
    <p>&copy; 2025 SUBBASSES.</p>
  </footer>

  <!-- WaveSurfer.js library -->
  <script src="https://unpkg.com/wavesurfer.js"></script>

  <!-- Initialize WaveSurfer Playlist -->
  <script>
    window.onload = function() {
      const tracks = [
        // Add your melody tracks here
        // Example:
        // 'music/melodies/melody1.mp3',
        // 'music/melodies/melody2.mp3',
        // 'music/melodies/melody3.mp3',

      ];
      let currentTrack = 0;

      const wavesurfer = WaveSurfer.create({
        container: '#waveform',
        waveColor: 'violet',
        progressColor: 'purple',
        height: 100
      });

      // Buttons
      const playBtn = document.getElementById('playBtn');
      const nextBtn = document.getElementById('nextBtn');
      const prevBtn = document.getElementById('prevBtn');
      const downloadBtn = document.getElementById('downloadBtn');
      const trackNameDiv = document.getElementById('trackName');

      // Load track and update UI
      function loadTrack(filePath) {
        wavesurfer.load(filePath);

        // Extract file name
        let fileName = filePath.split('/').pop().replace('.mp3', '');
        trackNameDiv.textContent = fileName;

        // Update download link
        downloadBtn.href = filePath;

        // Reset play button icon
        const icon = playBtn.querySelector('i');
        icon.classList.replace('fa-pause', 'fa-play');
      }

      // Load first track if available, otherwise disable controls
      if (tracks.length > 0) {
        loadTrack(tracks[currentTrack]);
      } else {
        trackNameDiv.textContent = 'No tracks yet';
        downloadBtn.removeAttribute('href');
        [playBtn, nextBtn, prevBtn].forEach(btn => btn.disabled = true);
      }

      // Play/Pause button
      playBtn.addEventListener('click', () => {
        wavesurfer.playPause();
        const icon = playBtn.querySelector('i');
        if (wavesurfer.isPlaying()) {
          icon.classList.replace('fa-play', 'fa-pause');
        } else {
          icon.classList.replace('fa-pause', 'fa-play');
        }
      });

      // Next Track button
      nextBtn.addEventListener('click', () => {
        currentTrack = (currentTrack + 1) % tracks.length;
        loadTrack(tracks[currentTrack]);
      });

      // Previous Track button
      prevBtn.addEventListener('click', () => {
        currentTrack = (currentTrack - 1 + tracks.length) % tracks.length;
        loadTrack(tracks[currentTrack]);
      });
    };
  </script>
</body>
</html>
